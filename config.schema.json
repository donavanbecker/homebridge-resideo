{
  "pluginAlias": "HoneywellHome",
  "pluginType": "platform",
  "singular": true,
  "customUi": true,
  "headerDisplay": "<p align='center'><img width='250px' src='https://user-images.githubusercontent.com/3979615/71876008-d99d7400-3179-11ea-909b-9d2a3d1e670f.png'></p>\n\nThe **Homebridge Honeywell Home** plugin allows you to control Honeywell Home thermostats and also view your Leak and Room Sensors from HomeKit. \n\nTo get started link your Honeywell Home account using the button below.",
  "footerDisplay": "Your Honeywell Home account has been linked. Please raise any issues on our [project page](https://github.com/donavanbecker/homebridge-honeywell-home/issues).\n\nIf you would like to have other Honeywell Devices besides Thermostat, Leak Sensors, or Room Sensors added to this plugin fill out [Feature Request Form](https://github.com/donavanbecker/homebridge-honeywell-home/issues/new?assignees=&labels=&template=feature_request.md).",
  "schema": {
    "type": "object",
    "properties": {
      "name": {
        "type": "string",
        "title": "Name",
        "default": "HoneywellHome",
        "required": true
      },
      "credentials": {
        "type": "object",
        "properties": {
          "consumerKey": {
            "title": "Consumer Key",
            "type": "string",
            "required": true
          },
          "consumerSecret": {
            "title": "Consumer Secret",
            "type": "string"
          },
          "refreshToken": {
            "title": "Refresh Token",
            "type": "string",
            "required": true
          },
          "notice": {
            "title": "Notice",
            "type": "string",
            "required": true,
            "default": "Keep your tokens a secret!"
          }
        }
      },
      "options": {
        "type": "object",
        "properties": {
          "devices": {
            "type": "array",
            "items": {
              "title": "Devices",
              "type": "object",
              "properties": {
                "deviceID": {
                  "title": "Device ID",
                  "type": "string",
                  "placeholder": "81F3UT59513F"
                },
                "hide_device": {
                  "title": "Hide Device",
                  "type": "boolean",
                  "condition": {
                    "functionBody": "return (model.options && model.options.devices && model.options.devices[arrayIndices].deviceID);"
                  }
                },
                "deviceClass": {
                  "title": "Device Class",
                  "type": "string",
                  "oneOf": [
                    {
                      "title": "Thermostat",
                      "enum": [
                        "Thermostat"
                      ]
                    },
                    {
                      "title": "Leak Sensor",
                      "enum": [
                        "LeakDetector"
                      ]
                    },
                    {
                      "title": "Room Sensor",
                      "enum": [
                        "Roomsensor"
                      ]
                    },
                    {
                      "title": "Room Priority",
                      "enum": [
                        "Roompriority"
                      ]
                    }
                  ],
                  "condition": {
                    "functionBody": "return (model.options && model.options.devices && model.options.devices[arrayIndices].deviceID && !model.options.devices[arrayIndices].hide_device);"
                  }
                },
                "thermostat": {
                  "type": "object",
                  "properties": {
                    "hide_fan": {
                      "title": "Hide Thermostat Fan",
                      "type": "boolean",
                      "condition": {
                        "functionBody": "return (model.options && model.options.devices && !model.options.devices[arrayIndices].hide_device && model.options.devices[arrayIndices].deviceClass === 'Thermostat' && model.options.devices[arrayIndices].deviceID);"
                      }
                    },
                    "hide_humidity": {
                      "title": "Hide Humidity Service",
                      "type": "boolean",
                      "condition": {
                        "functionBody": "return (model.options && model.options.devices && !model.options.devices[arrayIndices].hide_device && model.options.devices[arrayIndices].deviceClass === 'Thermostat' && model.options.devices[arrayIndices].deviceID);"
                      }
                    },
                    "thermostatSetpointStatus": {
                      "title": "Thermostat Setpoint Status",
                      "type": "string",
                      "description": "For \"LCC-\" devices only. \"PermanentHold\" will hold the setpoint until user requests another change. \"NoHold\" will return to schedule. \"TemporaryHold\" will hold the set temperature until \"nextPeriodTime\".",
                      "placeholder": "PermanentHold",
                      "condition": {
                        "functionBody": "return (model.options && model.options.devices && !model.options.devices[arrayIndices].hide_device && model.options.devices[arrayIndices].deviceClass === 'Thermostat' && model.options.devices[arrayIndices].deviceID);"
                      },
                      "oneOf": [
                        {
                          "title": "Permanent Hold",
                          "enum": [
                            "PermanentHold"
                          ]
                        },
                        {
                          "title": "No Hold",
                          "enum": [
                            "NoHold"
                          ]
                        },
                        
                        {
                          "title": "Temporary Hold",
                          "enum": [
                            "TemporaryHold"
                          ]
                        }
                      ]
                    }
                  }
                },
                "leaksensor": {
                  "title": "Leak Sensor",
                  "type": "object",
                  "properties": {
                    "hide_leak": {
                      "title": "Hide Leak Service",
                      "type": "boolean",
                      "condition": {
                        "functionBody": "return (model.options && model.options.devices && !model.options.devices[arrayIndices].hide_device && model.options.devices[arrayIndices].deviceClass === 'Roomsensor' && model.options.devices[arrayIndices].deviceID);"
                      }
                    },
                    "hide_temperature": {
                      "title": "Hide Temperature Service",
                      "type": "boolean",
                      "condition": {
                        "functionBody": "return (model.options && model.options.devices && !model.options.devices[arrayIndices].hide_device && model.options.devices[arrayIndices].deviceClass === 'Roomsensor' && model.options.devices[arrayIndices].deviceID);"
                      }
                    },
                    "hide_humidity": {
                      "title": "Hide Humidity Service",
                      "type": "boolean",
                      "condition": {
                        "functionBody": "return (model.options && model.options.devices && !model.options.devices[arrayIndices].hide_device && model.options.devices[arrayIndices].deviceClass === 'Roomsensor' && model.options.devices[arrayIndices].deviceID);"
                      }
                    }
                  }
                },
                "roomsensor": {
                  "title": "Room Sensor",
                  "type": "object",
                  "properties": {
                    "hide_temperature": {
                      "title": "Hide Temperature Service",
                      "type": "boolean",
                      "condition": {
                        "functionBody": "return (model.options && model.options.devices && !model.options.devices[arrayIndices].hide_device && model.options.devices[arrayIndices].deviceClass === 'LeakDetector' && model.options.devices[arrayIndices].deviceID);"
                      }
                    },
                    "hide_humidity": {
                      "title": "Hide Humidity Service",
                      "type": "boolean",
                      "condition": {
                        "functionBody": "return (model.options && model.options.devices && !model.options.devices[arrayIndices].hide_device && model.options.devices[arrayIndices].deviceClass === 'LeakDetector' && model.options.devices[arrayIndices].deviceID);"
                      }
                    },
                    "hide_occupancy": {
                      "title": "Hide Occupancy Service",
                      "type": "boolean",
                      "condition": {
                        "functionBody": "return (model.options && model.options.devices && !model.options.devices[arrayIndices].hide_device && model.options.devices[arrayIndices].deviceClass === 'LeakDetector' && model.options.devices[arrayIndices].deviceID);"
                      }
                    }
                  }
                },
                "roompriority": {
                  "title": "Room Priority",
                  "type": "object",
                  "properties": {
                    "deviceType": {
                      "title": "Display As",
                      "type": "string",
                      "condition": {
                        "functionBody": "return (model.options && model.options.devices && !model.options.devices[arrayIndices].hide_device && model.options.devices[arrayIndices].deviceClass === 'Roompriority' && model.options.devices[arrayIndices].deviceID);"
                      },
                      "oneOf": [
                        {
                          "title": "Thermostat",
                          "enum": [
                            "Thermostat"
                          ]
                        }
                      ]
                    },
                    "priorityType": {
                      "title": "Priority Type",
                      "type": "string",
                      "condition": {
                        "functionBody": "return (model.options && model.options.devices && !model.options.devices[arrayIndices].hide_device && model.options.devices[arrayIndices].deviceClass === 'Roompriority' && model.options.devices[arrayIndices].deviceID);"
                      },
                      "placeholder": "PickARoom",
                      "oneOf": [
                        {
                          "title": "Pick A Room",
                          "enum": [
                            "PickARoom"
                          ]
                        },
                        {
                          "title": "Whole House",
                          "enum": [
                            "WholeHouse"
                          ]
                        },
                        {
                          "title": "Follow Me",
                          "enum": [
                            "FollowMe"
                          ]
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "refreshRate": {
            "title": "Refresh Rate",
            "type": "number",
            "minimum": 30,
            "placeholder": 120,
            "description": "Indicates the number of seconds between polls of the Honeywell Home service."
          },
          "pushRate": {
            "title": "Push Rate",
            "type": "number",
            "placeholder": 1,
            "description": "Indicates the number of seconds between pushes to Honewell Home API."
          },
          "debug": {
            "title": "Logging Settings",
            "type": "string",
            "description": "Enble 'Device' or 'Debug' logging.",
            "oneOf": [
              {
                "title": "Enable Debug Logging",
                "enum": [
                  "debug"
                ]
              },
              {
                "title": "Enable Device Logging",
                "enum": [
                  "device"
                ]
              }
            ],
            "required": false
          }
        }
      },
      "disablePlugin": {
        "title": "Disable Plugin",
        "type": "boolean",
        "description": "DO NOT USE, UNLESS YOU WANT TO REMOVE ACCESSORIES FROM CACHE."
      }
    }
  },
  "layout": [
    {
      "type": "fieldset",
      "title": "Honeywell Home Account Info",
      "expandable": true,
      "expanded": false,
      "items": [
        {
          "type": "help",
          "helpvalue": "<h5></h5><em class='primary-text'>This is for Manual Setup Only.</em>"
        },
        "credentials.consumerKey",
        "credentials.consumerSecret",
        "credentials.refreshToken"
      ]
    },
    {
      "key": "options.devices",
      "notitle": false,
      "add": "Add Another Device",
      "type": "fieldset",
      "title": "Honeywell Device Settings",
      "expandable": true,
      "expanded": false,
      "orderable": false,
      "buttonText": "Add Device",
      "items": [
        {
          "type": "div",
          "displayFlex": true,
          "flex-direction": "column",
          "items": [
            "options.devices[].deviceID",
            "options.devices[].hide_device",
            "options.devices[].deviceClass",
            "options.devices[].thermostat.hide_fan",
            "options.devices[].thermostat.hide_humidity",
            "options.devices[].thermostat.thermostatSetpointStatus",
            "options.devices[].leaksensor.hide_leak",
            "options.devices[].leaksensor.hide_temperature",
            "options.devices[].leaksensor.hide_humidity",
            "options.devices[].roomsensor.hide_temperature",
            "options.devices[].roomsensor.hide_humidity",
            "options.devices[].roomsensor.hide_occupancy",
            "options.devices[].roompriority.deviceType",
            "options.devices[].roompriority.priorityType"
          ]
        }
      ]
    },
    {
      "type": "fieldset",
      "title": "Advanced Settings",
      "expandable": true,
      "expanded": false,
      "items": [
        {
          "type": "help",
          "helpvalue": "<h5>Refresh Rate</h5><em class='primary-text'>Refresh Rate indicates the number of seconds between polls of the Honeywell Home service.</em>"
        },
        {
          "key": "options.refreshRate",
          "notitle": true
        },
        {
          "type": "help",
          "helpvalue": "<h5>Push Rate</h5><em class='primary-text'>Push Rate indicates the number of seconds between pushes to Honeywell Home API.</em>"
        },
        {
          "key": "options.pushRate",
          "notitle": true
        },
        "options.debug",
        "disablePlugin"
      ]
    }
  ]
}